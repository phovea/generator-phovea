language: python
sudo: required
env:
  - TOXENV=py27
  - TOXENV=py34

install:
  - sudo apt-get install cython
  - pip install --user -r requirements_dev.txt
  - pip install --user -r requirements.txt

script: npm run dist

deploy:
  provider: releases
  api_key:
    secure: W+OxNzA9SX1bmBsrrJxPffPD6o/jd70qpfFHK0OVnzCCzMKXZUJS8dEr/Y/ej+Ya4zuAus1FAFIrO7yS8QeGKvRdZJkGJ9RTVUK/GKISxdLBXscDgyFl4thPguh1358fnXrZoknnUq5kaE/WRG4LkZ+GxliMMT4e0Qre8f/3QfZ+uk91NulXoytmFKpjp5XCRhfRO1zxbSvUOMjWofWcCPIOdLTJSMyQ1A4wH2T2NE7rwqI8FX6CxE/D7RC9y8r1MaFfTMCJS6RN1Wldp7qUDGfKmoDaTg93zNpaJ4HNg1fdUtPL3k4mnercWVbo8rp97hcahumbxcZ+WMEfTxvfcKTMlOkuu5Wzw0Q8RQpQMsCkOAQ/mj/lnZGl5gvvhE5dusIuAODMjuHPlXVn14sVk7H0MJW1SlFNzi5RHwa0z5qSXbI3mM27yPkgkXppr4fMnqZ8g8kgJUAyrUZQHJleI9qhf1Eb40DohT1k5UuLvfClpTe4+12YIVU0j5q9jIaGWm7vrKaxQVF6NSrQ5m30oaF1kRLpmtuO9jFKQ4HB2/ri+LuaRc5kxVezdfxjCjnP0kkYh9d48sja1MsfhL9ZP37ZmPoJ/AXXMjtKwBYw1AXKw+yl7MfMpom/EWM8k4ZwkLn/2mOIuVago+diYEXdxpHF51zQnluzEDjO0BFUBlA=
  file_glob: true
  file: dist/<%- name %>*.egg
  on:
    tags: true

notifications:
  slack:
    secure: LH7fnnRykIAmW6H1qwuq0v6om7FeMUbcXTw5Y3jxavXXIlqVMFPCqz8ymBaLze1n0X6dtg1YLHV5M6XJozHr0ApGEdq9fIW8RimUtjHjDZ04hiZJdiIQwNIJHecRT7DbCJwOV67h9MekmMA1GRA6k/KUB9wGYy8FX7Hz9+XoV6K+/6tuIiMULApaJO3p5vhl1IGfmsU9Y2eWcx4Z3FuZdVhfB2TNjtmempiQvEUtj7BI3gkH5nX7yxxXV+aW1aiFLSWHYlzlYHLT03A22xSfrSdBXMxc/ESWMO/zUP3VE07DDssPnwdK4nmPU+f1rW8OzQBECqp8gloMP41kss0SFDn7ZhVnMbVxABR/F9Qd9/7gFI+/FJdZFwsA8em8PUFPPzsD/6cXUhuVksRVfax5fCe/NLNS20XDwpMSE4xkzkL2ZG0lT1XMv7uCgpMAlv2g+qtfBq7/D0rluzx3CCDODclWsx/avUFeFz98P0I573BpSYJFjTYJdF0jLd0Szev4MPqy1UqAqI5Dg49IdCYvxUGWvXdTqeFX5OIijr6WvgpxO6/swOzAa+i0kEV8PmC1Sa72jHoG2rJhvbZqxWLsyvNCtZU76osZuUr+efvAhFWmAKKpuhM19Dzt8xlanITm/r/a1MBoFU2D20DBE4jU/Ji2peuhJkMVv95656mYNa0=
